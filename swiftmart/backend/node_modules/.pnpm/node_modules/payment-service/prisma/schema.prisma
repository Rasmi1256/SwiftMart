// schema.prisma
generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  
  
}

enum TransactionStatus {
  pending
  succeeded
  failed
  refunded
}

enum PaymentGateway {
  stripe_mock
}

model Transaction {
  id                   String            @id @default(uuid()) @db.Uuid
  orderId              String            @db.Uuid
  userId               String            @db.Uuid
  amount               Int               // stored in cents (smallest currency unit)
  currency             String            @default("USD")
  paymentGateway       PaymentGateway    @default(stripe_mock)
  gatewayTransactionId String            @unique
  status               TransactionStatus @default(pending)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("transactions")
}
